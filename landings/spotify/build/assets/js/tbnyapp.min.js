function gaPageView(){var e,o=new URL(window.location.href);switch(o.searchParams?o.searchParams.get("c"):o.search.split("=")[1]){case"geo1":e={title:"Central Park",location:"vzw.com/streamline/?c=geo1"};break;case"geo2":e={title:"Citi Field",location:"vzw.com/streamline/?c=geo2"};break;case"geo3":e={title:"Greenpoint Ferry Terminal",location:"vzw.com/streamline/?c=geo3"};break;case"geo4":e={title:"Grocery Store",location:"vzw.com/streamline/?c=geo4"};break;default:e={title:"Landing General",location:"vzw.com/streamline"}}ga("send",{hitType:"pageview",title:e.title,location:e.location,page:e.location})}function TBNYstartAnimation(e){var o=new TimelineMax({onComplete:e});$("#text_1").removeClass("alpha-0"),TweenMax.to([".skyline",".icon"],.1,{autoAlpha:0}),TweenMax.to("#drawing",3,{delay:1.8,x:"-1000",ease:Power1.easeInOut}),o.from("#red",1,{x:"-200",autoAlpha:0}).staggerFrom(".st_white",.25,{autoAlpha:0},.25).from(".waves",3,{drawSVG:"0%",ease:Power1.easeInOut},"-=0.2").from("#text_1",1,{x:2e3,ease:Power1.easeOut},"-=2").to(".waves",2,{css:{"stroke-width":2}},"-=2")}function TBNYanimateSkyline(e){switch(e){case"Queens":$("#queens-skyline").removeClass("none"),$("#tooltip-borough").removeClass("none");break;case"Brooklyn":$("#brooklyn-skyline").removeClass("none"),$("#tooltip-borough").removeClass("none");break;case"Manhattan":case"Staten Island":case"The Bronx":$("#default-skyline").removeClass("none"),$("#tooltip-borough").removeClass("none");break;default:$("#default-skyline").removeClass("none"),$("#tooltip-default").removeClass("none")}$("#text_2").removeClass("alpha-0"),TweenMax.to([".skyline",".icon"],.1,{autoAlpha:1}),TweenMax.to("#drawing",3,{x:"-1300",ease:Power1.easeInOut}),new TimelineMax({onComplete:TBNYhideAnimation}).to("#text_1",2,{x:"-1000"}).from("#text_2",1,{x:2e3,ease:Power1.easeOut},"-=2").from(".skyline",5,{drawSVG:"0%",ease:Power1.easeInOut},0).from(".icon",1,{drawSVG:"0%"},"-=2")}function TBNYhideAnimation(){new TimelineMax({onComplete:TBNYanimateshowPlaylist}).to("#animation",.5,{autoAlpha:0})}function TBNYanimateshowPlaylist(){$("#animation").addClass("none"),$(".vzn-tbny").removeClass("alpha-0"),$(".share-bar").removeClass("none"),$("#playlist").removeClass("none"),$("#footer").removeClass("alpha-0"),(new TimelineMax).from(["#playlist","#footer",".share-bar"],1,{autoAlpha:0})}gaPageView(),$(function(){"use strict";(new TBNY).run()});var TBNYGeo=function(){this.location={lat:0,long:0}};TBNYGeo.prototype.getLocation=function(){function e(e){ga("send","event","Enable Location Popover","Enable Location (pop up)","enable_location_yes"),t=!0,a(e.coords.latitude,e.coords.longitude)}function o(e){1===e.code&&ga("send","event","Enable Location Popover","Don't Enable Location (pop up)","enable_location_no"),console.log("TBNYGeo: Cannot determine user location."),a(0,0)}function a(e,o){var a="api/playlist?lat="+e+"&long="+o;$.get(a,function(e){var o={dimension1:e.data.borough,dimension2:e.data.weather,dimension3:e.data.weekMoment,dimension4:e.data.dayMoment,dimension5:e.data.playlistUrl};t&&ga("send","event","Playlist Load","Load Playlist","load_playlist",o);var a=$('<iframe width="100%" height="200" frameborder="0" allowtransparency="true" allow="encrypted-media"/>');a.prop("src",e.data.playlistUrl).prop("id",Math.floor(1e7*Math.random()+1)),$("#playlist").prepend(a),$("#city").html(e.data.borough),TBNYanimateSkyline(e.data.borough)})}var t=!1;navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,o)},TBNYGeo.prototype.warningDesktop=function(){$("#app").remove(),$("#error-landscape").remove(),$("#error-desktop").removeClass("none")},TBNYGeo.prototype.run=function(){new ClipboardJS("#url-share"),$("#url-share").on("click",function(){ga("send","event","Share Playlist Link","Share Playlist","share_playlist_copied"),TweenMax.fromTo("#url-text-share",4,{opacity:1,ease:Expo.easeIn},{autoAlpha:0})}),$("#info-icon").on("click",function(){ga("send","event","More Info Overlay","Open More Info","open_overlay"),$("#tbny-tooltip").modal({onClose:function(){ga("send","event","More Info Overlay","Close More Info","close_overlay"),$.modal.close()},position:[24,24]})}),$("#cta-track").on("click",function(){ga("send","event","Family Plan Anchor","Family Plan: Learn More","learn_more")}),$("#logo-track").on("click",function(){ga("send","event","Verizon Header","Header","header_click")}),$("#twitter-share").on("click",function(){ga("send","event","Share Playlist Link","Share Playlist","share_playlist_tw")}),window.fbAsyncInit=function(){FB.init({appId:"466061543818561",status:!0,cookie:!0,xfbml:!0})},function(){var e=document.createElement("script");e.async=!0,e.src=document.location.protocol+"//connect.facebook.net/en_US/all.js",document.getElementById("fb-root").appendChild(e)}(),$("#facebook-share").click(function(e){ga("send","event","Share Playlist Link","Share Playlist","share_playlist_fb"),e.preventDefault(),FB.ui({method:"share",href:"https://www.verizonwireless.com/streamline/"})}),$("html").hasClass("mobile")?($("#app").removeClass("alpha-0"),TBNYstartAnimation(this.getLocation)):this.warningDesktop()};var TBNYSocial=function(){$("#info-icon").addClass("none")};TBNYSocial.prototype=Object.create(TBNYGeo.prototype),TBNYSocial.prototype.getLocation=function(){var e,o,a,t={geo1:"NY_Show",geo2:"NY_Game",geo3:"NY_Commute",geo4:"NY_Grocery"},n=new URL(window.location.href);a=n.searchParams?n.searchParams.get("c"):n.search.split("=")[1],e=t[a]||"NY_Default",o="/streamline/api/playlist/by-code/"+e,$.get(o,function(e){var o={dimension1:"NYC",dimension5:e.data};ga("send","event","Playlist Load","Load Playlist","load_playlist",o);var a=$('<iframe width="100%" height="200" frameborder="0" allowtransparency="true" allow="encrypted-media"/>');a.prop("src",e.data).prop("id",Math.floor(1e7*Math.random()+1)),$("#playlist").prepend(a),$("#city").html("NYC"),TBNYanimateSkyline(e.data.borough)})};var TBNYTest=function(){};TBNYTest.prototype=Object.create(TBNYGeo.prototype),TBNYTest.prototype.getLocation=function(){var e="/streamline/api/playlist/test"+window.location.search;$.get(e,function(e){var o=$('<iframe width="100%" height="200" frameborder="0" allowtransparency="true" allow="encrypted-media"/>');o.prop("src",e.data.playlistUrl).prop("id",Math.floor(1e7*Math.random()+1)),$("#playlist").prepend(o),$("#city").html(e.data.borough),TBNYanimateSkyline(e.data.borough)})};var TBNY=function(){this.context=""};TBNY.prototype.setContext=function(e){this.context=e},TBNY.prototype.run=function(){this.getContext(),this.context&&this.context.run&&this.context.run()},TBNY.prototype.getContext=function(){var e=new URL(window.location.href);e.searchParams?this.context=function(){return e.searchParams.get("lat")?new TBNYTest:e.searchParams.get("c")?new TBNYSocial:new TBNYGeo}():this.context=function(){return e.search.indexOf("c=")>-1?new TBNYSocial:e.search.indexOf("lat=")>-1?new TBNYTest:new TBNYGeo}()};